"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.pessimizable = void 0;
const errors_1 = require("../errors");
function pessimizable(_target, _propertyKey, descriptor) {
    const originalMethod = descriptor.value;
    descriptor.value = async function (...args) {
        try {
            return await originalMethod.call(this, ...args);
        }
        catch (error) {
            if (!(error instanceof errors_1.NotFound)) {
                this.endpoint.pessimize();
            }
            throw error;
        }
    };
    return descriptor;
}
exports.pessimizable = pessimizable;
