import { Ydb } from "ydb-sdk-proto";
import DiscoveryServiceAPI = Ydb.Discovery.V1.DiscoveryService;
import { Endpoint } from "./endpoint";
import { Logger } from "../logging";
import { ISslCredentials } from "../utils/ssl-credentials";
import { AuthenticatedService } from "../utils/authenticated-service";
import { IAuthService } from "../credentials/i-auth-service";
interface IDiscoverySettings {
    endpoint: string;
    database: string;
    discoveryPeriod: number;
    authService: IAuthService;
    logger: Logger;
    sslCredentials?: ISslCredentials;
}
export default class DiscoveryService extends AuthenticatedService<DiscoveryServiceAPI> {
    private readonly database;
    private readonly discoveryPeriod;
    private readonly endpointsPromise;
    private resolveEndpoints;
    private rejectEndpoints;
    private readonly periodicDiscoveryId;
    private endpoints;
    private currentEndpointIndex;
    private events;
    private logger;
    constructor(settings: IDiscoverySettings);
    destroy(): void;
    private init;
    private updateEndpoints;
    private discoverEndpoints;
    emit(eventName: string, ...args: any[]): void;
    on(eventName: string, callback: (...args: any[]) => void): void;
    ready(timeout: number): Promise<void>;
    private getEndpointRR;
    getEndpoint(): Promise<Endpoint>;
}
export {};
